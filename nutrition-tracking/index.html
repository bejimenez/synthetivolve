<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutrition Tracker</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app">
        <!-- Navigation -->
        <nav class="nav">
            <div class="nav-container">
                <h1 class="nav-title">Nutrition Tracker</h1>
                <div class="nav-links">
                    <button class="nav-link active" data-page="today">Today</button>
                    <button class="nav-link" data-page="overview">Overview</button>
                    <button class="nav-link" data-page="scan">Scan</button>
                </div>
            </div>
        </nav>

        <!-- Today's Log Page -->
        <main class="page active" id="today-page">
            <div class="container">
                <!-- Daily Summary -->
                <div class="daily-summary">
                    <h2>Today's Progress</h2>
                    <div class="macro-totals">
                        <div class="macro-total">
                            <span class="macro-label">Calories</span>
                            <span class="macro-value" id="total-calories">0</span>
                            <span class="macro-goal">/ 2000</span>
                        </div>
                        <div class="macro-total">
                            <span class="macro-label">Protein</span>
                            <span class="macro-value" id="total-protein">0</span>
                            <span class="macro-goal">g</span>
                        </div>
                        <div class="macro-total">
                            <span class="macro-label">Carbs</span>
                            <span class="macro-value" id="total-carbs">0</span>
                            <span class="macro-goal">g</span>
                        </div>
                        <div class="macro-total">
                            <span class="macro-label">Fat</span>
                            <span class="macro-value" id="total-fat">0</span>
                            <span class="macro-goal">g</span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="calorie-progress"></div>
                    </div>
                </div>

                <!-- Time Slots -->
                <div class="time-slots" id="time-slots">
                    <!-- Time slots will be generated by JavaScript -->
                </div>
            </div>
        </main>

        <!-- Overview Page -->
        <main class="page" id="overview-page">
            <div class="container">
                <h2>Daily Overview</h2>
                <div class="overview-grid">
                    <div class="card">
                        <h3>Macro Distribution</h3>
                        <div class="chart-container">
                            <canvas id="macroChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3>Calories by Food</h3>
                        <div class="chart-container">
                            <canvas id="calorieChart"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3>Micronutrients</h3>
                        <div class="nutrient-list" id="nutrient-list">
                            <!-- Micronutrients will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Scan Page -->
        <main class="page" id="scan-page">
            <div class="container">
                <h2>Barcode Scanner</h2>
                <div class="card">
                    <div class="scanner-container">
                        <div class="scanner-placeholder">
                            <div class="scanner-icon">ðŸ“±</div>
                            <p>Barcode scanning would be implemented here using QuaggaJS</p>
                            <p>This would search USDA branded foods by UPC</p>
                            <button class="btn btn--primary" onclick="simulateBarcodeScan()">
                                Simulate Scan
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Add Food Dialog -->
        <div class="dialog-overlay" id="add-food-dialog">
            <div class="dialog">
                <div class="dialog-header">
                    <h3>Add Food</h3>
                    <button class="dialog-close" id="close-dialog">Ã—</button>
                </div>
                <div class="dialog-body">
                    <div class="tabs">
                        <button class="tab active" data-tab="search">Search</button>
                        <button class="tab" data-tab="recent">Recent</button>
                    </div>
                    
                    <div class="tab-content active" id="search-tab">
                        <div class="form-group">
                            <input type="text" id="food-search" class="form-control" placeholder="Search for food...">
                        </div>
                        <div class="loading" id="search-loading" style="display: none;">
                            <div class="spinner"></div>
                            <span>Searching...</span>
                        </div>
                        <div class="search-results" id="search-results"></div>
                    </div>
                    
                    <div class="tab-content" id="recent-tab">
                        <div class="recent-foods" id="recent-foods"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Food Details Dialog -->
        <div class="dialog-overlay" id="food-details-dialog">
            <div class="dialog">
                <div class="dialog-header">
                    <h3 id="food-details-title">Food Details</h3>
                    <button class="dialog-close" id="close-food-details">Ã—</button>
                </div>
                <div class="dialog-body">
                    <div class="food-details" id="food-details-content">
                        <div class="loading" id="details-loading">
                            <div class="spinner"></div>
                            <span>Loading food details...</span>
                        </div>
                    </div>
                    <div class="quantity-form" id="quantity-form" style="display: none;">
                        <div class="form-group">
                            <label class="form-label">Quantity</label>
                            <input type="number" id="food-quantity" class="form-control" value="100" min="1" step="0.1">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Unit</label>
                            <select id="food-unit" class="form-control">
                                <option value="g">grams (g)</option>
                                <option value="ml">milliliters (ml)</option>
                                <option value="oz">ounces (oz)</option>
                            </select>
                        </div>
                        <button class="btn btn--primary btn--full-width" id="add-food-btn">Add Food</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast notifications -->
        <div class="toast-container" id="toast-container"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>